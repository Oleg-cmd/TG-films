(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2108:function(e,t,s){Promise.resolve().then(s.bind(s,9464))},9464:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),n=s(3301),l=s(2265),r=s(1038),i=s(5042);let c=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}),o=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});var d=s(1396),u=s.n(d),x=s(1100),g=s(6440),m=s(4033);let h=new Date().getFullYear(),f=(0,x.Pi)(()=>{var e;let t=(0,m.useRouter)(),[s,n]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{g.c.isLocalChange&&g.c.setIsReady(!1),null!==g.c.startYear&&x(!1)},[g.c.selectedGenres,g.c.startYear,g.c.endYear,g.c.rating,g.c.isLocalChange]),(0,l.useEffect)(()=>{g.c.sendMessage({type:"ready",telegramId:g.c.telegramId,inviteCode:g.c.inviteCode})},[g.c.isReady]),(0,l.useEffect)(()=>{g.c.cards.length>0&&g.c.readyCount===g.c.participantsCount&&(console.log("GO TO GAME!"),t.push("/game"))},[g.c.cards]),d)?(0,a.jsx)("div",{className:"p-4 flex flex-col justify-between bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg shadow-lg h-screen",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:"Loading..."})}):(0,a.jsxs)("div",{className:"p-4 flex flex-col justify-between bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg shadow-lg h-screen",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center text-blue-800",children:"Film Preferences"}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(u(),{href:"/settings",children:(0,a.jsx)(c,{className:"w-8 h-8 text-blue-600 cursor-pointer"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-blue-700 flex items-center gap-2",children:["Genres",(0,a.jsx)("button",{onClick:()=>n(!0),className:"p-2 rounded-full bg-blue-200 hover:bg-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus-ring-offset-1",children:(0,a.jsx)(o,{className:"h-6 w-6 text-blue-700"})})]}),(0,a.jsx)(r.u,{appear:!0,show:s,as:l.Fragment,children:(0,a.jsxs)(i.Vq,{as:"div",className:"relative z-10",onClose:()=>n(!1),children:[(0,a.jsx)(r.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(r.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(i.Vq.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)(i.Vq.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Select Genres"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:g.c.availableGenres.map(e=>(0,a.jsx)("button",{onClick:()=>g.c.toggleGenre(e),className:"".concat(g.c.selectedGenres.includes(e)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"," p-2 rounded-md shadow transition-colors w-full"),style:{pointerEvents:g.c.isUpdatingSettings?"none":"auto"},children:e},e))}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:()=>n(!1),children:"Close"})})]})})})})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-blue-700",children:"Year Range"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm text-blue-600",children:["Start Year: ",g.c.startYear]}),(0,a.jsx)("input",{type:"range",min:1900,max:h,value:g.c.startYear||1900,onChange:e=>{null!==g.c.startYear&&g.c.setStartYear(parseInt(e.target.value))},className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer",style:{pointerEvents:g.c.isUpdatingSettings?"none":"auto"}}),(0,a.jsxs)("label",{className:"text-sm text-blue-600",children:["End Year: ",g.c.endYear]}),(0,a.jsx)("input",{type:"range",min:1900,max:h,value:g.c.endYear||h,onChange:e=>{null!==g.c.endYear&&g.c.setEndYear(parseInt(e.target.value))},className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer",style:{pointerEvents:g.c.isUpdatingSettings?"none":"auto"}})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-blue-700",children:"Minimum Rating"}),(0,a.jsx)("input",{type:"range",min:0,max:10,step:.1,value:g.c.rating||5,onChange:e=>{null!==g.c.rating&&g.c.setRating(parseFloat(e.target.value))},className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer",style:{pointerEvents:g.c.isUpdatingSettings?"none":"auto"}}),(0,a.jsx)("div",{className:"text-center text-sm text-blue-600",children:null!=g.c.rating?"".concat(null===(e=g.c.rating)||void 0===e?void 0:e.toFixed(1)," / 10"):""})]})]}),(0,a.jsx)("button",{onClick:()=>{g.c.setIsReady(!g.c.isReady)},disabled:0===g.c.selectedGenres.length||g.c.isReady,className:"w-full py-3 px-4 rounded-lg mt-6 text-lg font-semibold transition-all transform hover:scale-105 ".concat(g.c.isReady?"bg-gray-400 text-white cursor-not-allowed":0===g.c.selectedGenres.length?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-lg"),children:g.c.isReady?"Waiting for others... ".concat(g.c.readyCount||0,"/").concat(g.c.participantsCount||1):"Ready to Swipe!"})]})});function p(){return(0,a.jsxs)("main",{className:"min-h-screen h-full mx-auto bg-gameSwipe-neutral",children:[(0,a.jsx)(n.b,{}),(0,a.jsx)(f,{})]})}},4033:function(e,t,s){e.exports=s(290)}},function(e){e.O(0,[147,922,596,42,171,971,864,744],function(){return e(e.s=2108)}),_N_E=e.O()}]);